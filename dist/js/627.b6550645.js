"use strict";(self["webpackChunkjoshua_vue_project"]=self["webpackChunkjoshua_vue_project"]||[]).push([[627],{46:function(e,t,a){a.d(t,{A:function(){return u}});var o=a(9726);const i={class:"notification-heading"},n={class:"notification-title"},s={class:"notification-content"};function r(e,t,a,r,l,c){return null!==a.notification?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,o.C4)(["notification",`alert-${a.notification.type}`])},[(0,o.Lk)("div",i,[(0,o.Lk)("div",n,(0,o.v_)(a.notification.title),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>c.closeNotification&&c.closeNotification(...e)),class:"close"},t[1]||(t[1]=[(0,o.Lk)("span",null,"×",-1)]))]),(0,o.Lk)("div",s,(0,o.v_)(a.notification.content),1)],2)):(0,o.Q3)("",!0)}var l={name:"NotificationComponent",props:{notification:{type:Object,require:!1}},data(){return{}},methods:{closeNotification(){this.$emit("update:notification",null)}},watch:{notification(e){e&&setTimeout((()=>{this.closeNotification()}),2e3)}}},c=a(6262);const d=(0,c.A)(l,[["render",r],["__scopeId","data-v-4f5179dc"]]);var u=d},2874:function(e,t,a){a.d(t,{A:function(){return C}});var o=a(9726);const i={class:"table-pagination form-inline"},n={class:"form-group pagination-group"},s={class:"pagination"},r={class:"page-item"},l=["disabled"],c={class:"page-item"},d=["disabled"],u=["onClick"],h={class:"page-item"},g=["disabled"],p={class:"page-item"},m=["disabled"],k={class:"form-group page-info-group"},b={class:"form-group page-size-group"},f=["value"];function L(e,t,a,L,y,P){return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",n,[(0,o.Lk)("ul",s,[(0,o.Lk)("li",r,[(0,o.Lk)("button",{class:"page-link",onClick:t[0]||(t[0]=e=>P.loadPage(1)),disabled:1===a.currentPage},"First",8,l)]),(0,o.Lk)("li",c,[(0,o.Lk)("button",{class:"page-link",onClick:t[1]||(t[1]=e=>P.loadPage(a.currentPage-1)),disabled:1===a.currentPage},"Previous",8,d)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.visiblePages,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:(0,o.C4)({"page-item":!0,active:a.currentPage===e})},[(0,o.Lk)("button",{class:"page-link",onClick:t=>P.loadPage(e)},(0,o.v_)(e),9,u)],2)))),128)),(0,o.Lk)("li",h,[(0,o.Lk)("button",{class:"page-link",onClick:t[2]||(t[2]=e=>P.loadPage(a.currentPage+1)),disabled:a.currentPage===a.totalPages},"Next",8,g)]),(0,o.Lk)("li",p,[(0,o.Lk)("button",{class:"page-link",onClick:t[3]||(t[3]=e=>P.loadPage(a.totalPages)),disabled:a.currentPage===a.totalPages},"Last",8,m)])])]),(0,o.Lk)("div",k,[(0,o.Lk)("p",null,"Page "+(0,o.v_)(a.currentPage)+" of "+(0,o.v_)(a.totalPages)+" Total Items: "+(0,o.v_)(a.totalItems),1)]),(0,o.Lk)("div",b,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.selectedPageSize=t),onChange:t[5]||(t[5]=(...e)=>P.changePageSize&&P.changePageSize(...e)),class:"form-control"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.pageSizes,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,o.v_)(e),9,f)))),128))],544),[[o.u1,e.selectedPageSize]])])])}var y={name:"PaginationComponent",props:{currentPage:{type:Number,default:1,required:!1},perPage:{type:Number,default:10,required:!1},totalItems:{type:Number,default:0,required:!1},totalPages:{type:Number,default:1,required:!1},maxVisiblePages:{type:Number,default:5}},data:()=>({selectedPageSize:20,pageSizes:[5,10,20,40,60,80,100]}),mounted(){this.selectedPageSize=this.perPage},computed:{visiblePages(){const e=Math.max(1,this.currentPage-Math.floor(this.maxVisiblePages/2)),t=Math.min(this.totalPages,e+this.maxVisiblePages-1);return Array.from({length:t-e+1},((t,a)=>e+a))}},methods:{loadPage(e){this.$emit("load-page",e)},changePageSize(){this.$emit("change-page-size",this.selectedPageSize)},prevPage(){this.currentPage>1&&this.$emit("update-page",this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.$emit("update-page",this.currentPage+1)}}},P=a(6262);const x=(0,P.A)(y,[["render",L],["__scopeId","data-v-5d8e6862"]]);var C=x},3304:function(e,t,a){a.d(t,{A:function(){return y}});var o=a(9726);const i={class:"input-group mb-2"},n=["id","onClick"],s={key:0},r={key:1},l={key:2},c=["onClick"],d=["onClick"],u={key:0},h=["id","onClick"],g={key:0},p={key:1},m={key:2};function k(e,t,a,k,b,f){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",i,[(0,o.bo)((0,o.Lk)("input",{placeholder:"Searching...",onInput:t[0]||(t[0]=(...e)=>f.onSearch&&f.onSearch(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>b.searchTerm=e),type:"text",class:"form-control"},null,544),[[o.Jo,b.searchTerm]]),t[2]||(t[2]=(0,o.Lk)("div",{class:"input-group-append"},[(0,o.Lk)("button",{class:"btn btn-primary"},[(0,o.Lk)("i",{class:"pe-7s-search"})])],-1))]),(0,o.Lk)("table",{class:(0,o.C4)([a.customClass,"table table-dark table-sm table-bordered"])},[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[3]||(t[3]=(0,o.Lk)("th",null,[(0,o.Lk)("input",{type:"checkbox",class:""})],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.fields,(e=>((0,o.uX)(),(0,o.CE)("th",{key:e.key,id:e.key,onClick:t=>f.changeOrder(e.key)},[(0,o.eW)((0,o.v_)(e.value)+" ",1),b.orderBy===e.key&&"asc"===b.orderDirection?((0,o.uX)(),(0,o.CE)("span",s,"▼")):b.orderBy===e.key&&"desc"===b.orderDirection?((0,o.uX)(),(0,o.CE)("span",r,"▲")):((0,o.uX)(),(0,o.CE)("span",l,"◆"))],8,n)))),128)),t[4]||(t[4]=(0,o.Lk)("th",null,"Action",-1))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.items,((e,i)=>((0,o.uX)(),(0,o.CE)("tr",{key:i},[t[7]||(t[7]=(0,o.Lk)("td",null,[(0,o.Lk)("input",{type:"checkbox"})],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.fields,(t=>((0,o.uX)(),(0,o.CE)("td",{key:t.key},(0,o.v_)(e[t.key]),1)))),128)),(0,o.Lk)("td",null,[(0,o.Lk)("button",{type:"button",class:"btn btn-sm btn-success",onClick:t=>f.updateRow(e.id)},t[5]||(t[5]=[(0,o.Lk)("i",{class:"pe-7s-file"},null,-1)]),8,c),(0,o.Lk)("button",{type:"button",class:"btn btn-sm btn-warning",onClick:t=>f.deleteRow(e.id)},t[6]||(t[6]=[(0,o.Lk)("i",{class:"pe-7s-trash"},null,-1)]),8,d)])])))),128))]),a.footer?((0,o.uX)(),(0,o.CE)("tfoot",u,[(0,o.Lk)("tr",null,[t[8]||(t[8]=(0,o.Lk)("th",null,[(0,o.Lk)("input",{type:"checkbox"})],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.fields,(e=>((0,o.uX)(),(0,o.CE)("th",{key:e.key,id:e.key,onClick:t=>f.changeOrder(e.key)},[(0,o.eW)((0,o.v_)(e.value)+" ",1),b.orderBy===e.key&&"asc"===b.orderDirection?((0,o.uX)(),(0,o.CE)("span",g,"▼")):b.orderBy===e.key&&"desc"===b.orderDirection?((0,o.uX)(),(0,o.CE)("span",p,"▲")):((0,o.uX)(),(0,o.CE)("span",m,"◆"))],8,h)))),128)),t[9]||(t[9]=(0,o.Lk)("th",null,"Action",-1))])])):(0,o.Q3)("",!0)],2)])}var b={name:"TableComponent",props:{fields:{type:Array,required:!0},items:{type:Array,required:!0},customClass:{type:String,default:"",required:!1},footer:{type:Boolean,default:!1,required:!1}},data(){return{orderDirection:"",orderBy:"",searchTerm:null}},created(){},methods:{deleteRow(e){this.$emit("deleteRow",e)},updateRow(e){this.$emit("updateRow",e)},onSearch(){this.$emit("search",this.searchTerm)},changeOrder(e){e===this.orderBy?"asc"===this.orderDirection?this.orderDirection="desc":"desc"===this.orderDirection?this.orderDirection="":this.orderDirection="asc":(this.orderBy=e,this.orderDirection="asc"),this.$emit("changeOrder",{orderDirection:this.orderDirection,orderBy:this.orderBy})}}},f=a(6262);const L=(0,f.A)(b,[["render",k]]);var y=L},5627:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var o=a(9726);const i={key:0,class:"main-card mb-3 card"},n={class:"card-body"},s={class:"position-relative form-group"},r={class:"position-relative form-group"},l={class:"position-relative form-group"},c={key:1,class:"main-card mb-3 card"},d={class:"card-body"},u={class:"position-relative form-group"},h={class:"position-relative form-group"},g={key:2,class:"main-card mb-3 card"},p={class:"card-body"},m={class:"position-relative form-group"},k={class:"form-group"},b={class:"form-group"},f={class:"form-group"},L={class:"position-relative form-group"};function y(e,t,a,y,P,x){const C=(0,o.g2)("page-title-component"),v=(0,o.g2)("notification-component"),w=(0,o.g2)("table-component"),T=(0,o.g2)("pagination-component");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(C,{heading:P.heading,subheading:P.subheading,icon:P.icon},{actions:(0,o.k6)((()=>[(0,o.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>x.toggleCreate&&x.toggleCreate(...e)),class:"btn btn-primary mr-2"}," Create New "),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>x.toggleImport&&x.toggleImport(...e)),type:"button",class:"btn btn-info mr-2"}," Import "),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>x.toggleExport&&x.toggleExport(...e)),type:"button",class:"btn btn-info mr-2"}," Export ")])),_:1},8,["heading","subheading","icon"]),(0,o.bF)(v,{notification:P.notification},null,8,["notification"]),P.showCreate?((0,o.uX)(),(0,o.CE)("div",i,[t[17]||(t[17]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h5",{class:"card-title"},"Add New Data")],-1)),(0,o.Lk)("div",n,[(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>x.handleCreate&&x.handleCreate(...e)),["prevent"]))},[(0,o.Lk)("div",s,[t[13]||(t[13]=(0,o.Lk)("label",{for:"source_text"},"Source Text",-1)),(0,o.bo)((0,o.Lk)("input",{name:"source_text",placeholder:"Source Text","onUpdate:modelValue":t[3]||(t[3]=e=>P.sourceText=e),type:"text",class:"form-control"},null,512),[[o.Jo,P.sourceText]])]),(0,o.Lk)("div",r,[t[14]||(t[14]=(0,o.Lk)("label",{for:"target_text"},"Target Text",-1)),(0,o.bo)((0,o.Lk)("input",{name:"target_text",placeholder:"Source Text","onUpdate:modelValue":t[4]||(t[4]=e=>P.targetText=e),type:"text",class:"form-control"},null,512),[[o.Jo,P.targetText]])]),(0,o.Lk)("div",l,[t[15]||(t[15]=(0,o.Lk)("label",{for:"intense"},"Intense",-1)),(0,o.bo)((0,o.Lk)("input",{name:"intense",placeholder:"Intense","onUpdate:modelValue":t[5]||(t[5]=e=>P.intense=e),type:"text",class:"form-control"},null,512),[[o.Jo,P.intense]])]),t[16]||(t[16]=(0,o.Lk)("div",{class:"position-relative form-group"},[(0,o.Lk)("button",{type:"submit",class:"btn-primary btn"},"Submit")],-1))],32)])])):(0,o.Q3)("",!0),P.showImport?((0,o.uX)(),(0,o.CE)("div",c,[t[19]||(t[19]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h5",{class:"card-title"},"Import Data")],-1)),(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[t[18]||(t[18]=(0,o.Lk)("label",{for:"fileInput",class:""},"File",-1)),(0,o.Lk)("input",{name:"file",id:"fileInput",type:"file",onChange:t[7]||(t[7]=(...e)=>x.handleFileChange&&x.handleFileChange(...e)),class:"form-control-file"},null,32)]),(0,o.Lk)("div",h,[(0,o.Lk)("button",{class:"btn-success btn",onClick:t[8]||(t[8]=(...e)=>x.handleImport&&x.handleImport(...e))},"Import")])])])):(0,o.Q3)("",!0),P.showExport?((0,o.uX)(),(0,o.CE)("div",g,[t[23]||(t[23]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h5",{class:"card-title"},"Export Data")],-1)),(0,o.Lk)("div",p,[(0,o.Lk)("div",m,[(0,o.Lk)("div",k,[t[20]||(t[20]=(0,o.Lk)("label",{for:"fileName",class:""},"File Name",-1)),(0,o.bo)((0,o.Lk)("input",{name:"fileName","onUpdate:modelValue":t[9]||(t[9]=e=>P.fileName=e),id:"fileName",placeholder:"File Name",type:"text",class:"form-control"},null,512),[[o.Jo,P.fileName]])]),(0,o.Lk)("div",b,[t[21]||(t[21]=(0,o.Lk)("label",{for:"source_text_max_length",class:""},"Source Text Max Length",-1)),(0,o.bo)((0,o.Lk)("input",{name:"source_text_max_length","onUpdate:modelValue":t[10]||(t[10]=e=>P.sourceTextMaxLength=e),type:"number",placeholder:"Source Text Max Length",class:"form-control"},null,512),[[o.Jo,P.sourceTextMaxLength]])]),(0,o.Lk)("div",f,[t[22]||(t[22]=(0,o.Lk)("label",{for:"target_text_max_length",class:""},"Target Text Max Length",-1)),(0,o.bo)((0,o.Lk)("input",{name:"target_text_max_length","onUpdate:modelValue":t[11]||(t[11]=e=>P.targetTextMaxLength=e),type:"number",placeholder:"Target Text Max Length",class:"form-control"},null,512),[[o.Jo,P.targetTextMaxLength]])])]),(0,o.Lk)("div",L,[(0,o.Lk)("button",{class:"btn-primary btn",onClick:t[12]||(t[12]=(...e)=>x.handleExport&&x.handleExport(...e))},"Export")])])])):(0,o.Q3)("",!0),(0,o.bF)(w,{footer:!0,fields:P.fields,items:P.items,"custom-class":"datase-table",onSearch:x.onSearchChange,onChangeOrder:x.handleChangeOrder,onDeleteRow:x.handleDeleteRow,onUpdateRow:x.handleUpdateRow},null,8,["fields","items","onSearch","onChangeOrder","onDeleteRow","onUpdateRow"]),(0,o.bF)(T,{currentPage:P.currentPage,perPage:P.itemsPerPage,totalItems:P.totalItems,totalPages:P.totalPages,onLoadPage:x.loadPage,onChangePageSize:x.changePageSize},null,8,["currentPage","perPage","totalItems","totalPages","onLoadPage","onChangePageSize"])])}var P=a(4335),x=a(3304),C=a(6025),v=a(2874),w=a(46),T={name:"DatasetPage",components:{PageTitleComponent:C.A,PaginationComponent:v.A,TableComponent:x.A,NotificationComponent:w.A},data(){return{show:!1,currentPage:1,itemsPerPage:20,totalItems:0,totalPages:0,orderBy:"",orderDirection:"",sourceText:"",targetText:"",intense:"",fileName:"",sourceTextMaxLength:0,targetTextMaxLength:0,search:"",selectedFile:null,showCreate:!1,showImport:!1,showExport:!1,fields:[{key:"id",value:"Id"},{key:"source_text",value:"Source Text"},{key:"target_text",value:"Target Text"},{key:"intense",value:"Intense"}],items:[],heading:"Chatbot Dataset",subheading:"Chatbot Dataset",icon:"pe-7s-phone icon-gradient bg-premium-dark",notification:null}},created(){this.getDatasetData(this.currentPage,this.itemsPerPage)},methods:{toggleDialog(){return console.log(this.show),this.show=!this.show},getDatasetData(e,t){P.A.get("http://127.0.0.1:5000/api/conversations",{params:{page:e,pagesize:t,search:this.search,orderby:this.orderBy,orderdirection:this.orderDirection}}).then((e=>{this.items=e.data.data,this.currentPage=e.data.current_page,this.totalPages=e.data.total_pages,this.totalItems=e.data.total_items})).catch((e=>{console.error(e)}))},onSearchChange(e){this.search=e,this.getDatasetData(1,this.itemsPerPage)},handleCreate(){const e=[{source_text:this.sourceText,target_text:this.targetText,intense:this.intense,language:"en"}];this.sourceText&&this.targetText?(P.A.post("http://127.0.0.1:5000/api/conversations",e).then((e=>{this.getDatasetData(this.currentPage,this.itemsPerPage),this.source_text="",this.target_text="",this.intense="",this.notification={title:"Success",content:e.data.message,type:"success"}})).catch((e=>{this.notification={title:"Error",content:e,type:"error"}})),this.sourceText="",this.targetText=""):this.notification={title:"Error",content:"Please enter data before submitting.",type:"error"}},handleFileChange(e){this.selectedFile=e.target.files[0]},handleImport(){const e=new FormData;e.append("file",this.selectedFile),P.A.post("http://127.0.0.1:5000/api/import",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.notification={title:"Success",content:e.data.message,type:"success"}})).catch((e=>{console.error(e)}))},handleExport(){P.A.get("http://127.0.0.1:5000/api/export",{params:{targetTextMaxLength:this.targetTextMaxLength,sourceTextMaxLength:this.sourceTextMaxLength},responseType:"blob"}).then((e=>{const t=new Blob([e.data],{type:e.headers["content-type"]}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=this.fileName?this.fileName+".csv":"chatbot_dataset.csv",a.click()})).catch((e=>{console.error(e)}))},handleDeleteRow(e){const t=window.confirm("Are you sure you want to delete?");t&&P.A.delete("http://127.0.0.1:5000/api/conversations/"+e).then((e=>{this.getDatasetData(this.currentPage,this.itemsPerPage),this.notification={title:"Success",content:e.data.message,type:"success"}})).catch((e=>{this.notification={title:"Error",content:e,type:"error"}}))},handleChangeOrder({orderDirection:e,orderBy:t}){this.orderDirection=e,this.orderBy=t,this.getDatasetData(this.currentPage,this.itemsPerPage)},handleUpdateRow(){console.log("update")},toggleCreate(){this.showImport=!1,this.showExport=!1,this.showCreate=!this.showCreate},toggleImport(){this.showImport=!this.showImport,this.showExport=!1,this.showCreate=!1},toggleExport(){this.showImport=!1,this.showExport=!this.showExport,this.showCreate=!1},loadPage(e){this.currentPage=e,this.getDatasetData(this.currentPage,this.itemsPerPage)},changePageSize(e){this.itemsPerPage=e,this.getDatasetData(1,this.itemsPerPage)}}},D=a(6262);const E=(0,D.A)(T,[["render",y]]);var _=E}}]);