"use strict";(self["webpackChunkjoshua_vue_project"]=self["webpackChunkjoshua_vue_project"]||[]).push([[7650],{1721:function(e,t,a){a.d(t,{A:function(){return d}});var n=a(9726);const l={class:"notification-heading"},o={class:"notification-title"},i={class:"notification-content"};function r(e,t,a,r,c,s){return null!==e.notification?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(["notification",`alert-${e.notification.type}`])},[(0,n.Lk)("div",l,[(0,n.Lk)("div",o,(0,n.v_)(e.notification.title),1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.closeNotification&&e.closeNotification(...t)),class:"close"},t[1]||(t[1]=[(0,n.Lk)("span",null,"×",-1)]))]),(0,n.Lk)("div",i,(0,n.v_)(e.notification.content),1)],2)):(0,n.Q3)("",!0)}var c=(0,n.pM)({name:"NotificationComponent",props:{notification:{type:Object,required:!1}},setup(e,{emit:t}){const a=()=>{t("update:notification",null)};return(0,n.wB)((()=>e.notification),(e=>{e&&setTimeout((()=>{a()}),2e3)})),{closeNotification:a}}}),s=a(6262);const u=(0,s.A)(c,[["render",r],["__scopeId","data-v-4cf65ca2"]]);var d=u},1569:function(e,t,a){a.r(t),a.d(t,{default:function(){return de}});var n=a(9726);const l={class:"form-row"},o={class:"col-md-6"},i={class:"position-relative form-group"},r={class:"col-md-6"},c={class:"position-relative form-group"},s={class:"form-row"},u={class:"col-md-6"},d={class:"position-relative form-group"},m={class:"col-md-6"},p={class:"position-relative form-group"},g={class:"form-row"},k={class:"col-md-6"},v={class:"position-relative form-group"},h=["value"],b={class:"col-md-6"},f={class:"position-relative form-group"},y={class:"form-row"},L={class:"col-md-6"},_={class:"position-relative form-group"},T={class:"col-md-6"},C={key:0,class:"position-relative form-group"},w={class:"form-row"},E={class:"col-md-6"},K={class:"position-relative form-group"},D={class:"col-md-6"},P={class:"position-relative form-group"};function R(e,t,a,R,A,U){const X=(0,n.g2)("page-title-component"),M=(0,n.g2)("notification-component"),S=(0,n.g2)("button-spinner"),x=(0,n.g2)("modal-component"),j=(0,n.g2)("TalentTable");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(X,{heading:e.heading,subheading:e.subheading,icon:e.icon},{actions:(0,n.k6)((()=>[(0,n.Lk)("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.toggleModal&&e.toggleModal(...t)),class:"btn-shadow d-inline-flex align-items-center btn btn-primary"}," Add New Talent ")])),_:1},8,["heading","subheading","icon"]),(0,n.bF)(M,{notification:e.notification,"onUpdate:notification":t[1]||(t[1]=t=>e.notification=t)},null,8,["notification"]),(0,n.bF)(x,{title:e.isUpdateMode?"Update Talent":"Add New Talent",isOpen:e.showModal,onCloseModal:e.toggleModal},{body:(0,n.k6)((()=>[(0,n.Lk)("div",l,[(0,n.Lk)("div",o,[(0,n.Lk)("div",i,[t[13]||(t[13]=(0,n.Lk)("label",{for:"talent_name"},"Talent Name",-1)),(0,n.bo)((0,n.Lk)("input",{name:"talent_name",id:"talent_name",placeholder:"Talent Name",type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.currentTalent.name=t),class:"form-control"},null,512),[[n.Jo,e.currentTalent.name]])])]),(0,n.Lk)("div",r,[(0,n.Lk)("div",c,[t[14]||(t[14]=(0,n.Lk)("label",{for:"original_name"},"Original Name",-1)),(0,n.bo)((0,n.Lk)("input",{name:"original_name",id:"original_name",placeholder:"Original Name","onUpdate:modelValue":t[3]||(t[3]=t=>e.currentTalent.original_name=t),type:"text",class:"form-control"},null,512),[[n.Jo,e.currentTalent.original_name]])])])]),(0,n.Lk)("div",s,[(0,n.Lk)("div",u,[(0,n.Lk)("div",d,[t[16]||(t[16]=(0,n.Lk)("label",{for:"talent_gender"},"Gender",-1)),(0,n.bo)((0,n.Lk)("select",{name:"talent_gender",id:"talent_gender","onUpdate:modelValue":t[4]||(t[4]=t=>e.currentTalent.gender=t),class:"form-control"},t[15]||(t[15]=[(0,n.Lk)("option",{value:"male"},"Male",-1),(0,n.Lk)("option",{value:"female"},"Female",-1)]),512),[[n.u1,e.currentTalent.gender]])])]),(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[t[17]||(t[17]=(0,n.Lk)("label",{for:"date_of_birth"},"Date Of Birth",-1)),(0,n.bo)((0,n.Lk)("input",{name:"date_of_birth",id:"date_of_birth",placeholder:"Date Of Birth","onUpdate:modelValue":t[5]||(t[5]=t=>e.currentTalent.date_of_birth=t),type:"date",class:"form-control"},null,512),[[n.Jo,e.currentTalent.date_of_birth]])])])]),(0,n.Lk)("div",g,[(0,n.Lk)("div",k,[(0,n.Lk)("div",v,[t[18]||(t[18]=(0,n.Lk)("label",{for:"agency"},"Agency",-1)),(0,n.bo)((0,n.Lk)("select",{name:"select",id:"agency","onUpdate:modelValue":t[6]||(t[6]=t=>e.currentTalent.agency_id=t),class:"form-control",required:""},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.agencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.agency_name),9,h)))),128))],512),[[n.u1,e.currentTalent.agency_id]])])]),(0,n.Lk)("div",b,[(0,n.Lk)("div",f,[t[20]||(t[20]=(0,n.Lk)("label",{for:"talent_status"},"Talent Status",-1)),(0,n.bo)((0,n.Lk)("select",{name:"talent_status",id:"talent_status","onUpdate:modelValue":t[7]||(t[7]=t=>e.currentTalent.talent_status=t),class:"form-control"},t[19]||(t[19]=[(0,n.Lk)("option",{value:"active"},"Active",-1),(0,n.Lk)("option",{value:"graduation"},"Graduation",-1),(0,n.Lk)("option",{value:"terminated"},"Terminated",-1)]),512),[[n.u1,e.currentTalent.talent_status]])])])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",L,[(0,n.Lk)("div",_,[t[21]||(t[21]=(0,n.Lk)("label",{for:"debut_date"},"Debut Date",-1)),(0,n.bo)((0,n.Lk)("input",{name:"debut_date",id:"debut_date",placeholder:"Debut Date",type:"date","onUpdate:modelValue":t[8]||(t[8]=t=>e.currentTalent.debut_date=t),class:"form-control"},null,512),[[n.Jo,e.currentTalent.debut_date]])])]),(0,n.Lk)("div",T,[e.showRetirementDate()?((0,n.uX)(),(0,n.CE)("div",C,[t[22]||(t[22]=(0,n.Lk)("label",{for:"retirement_date"},"Retirement Date",-1)),(0,n.bo)((0,n.Lk)("input",{name:"retirement_date",id:"retirement_date",placeholder:"Retirement Date",type:"date","onUpdate:modelValue":t[9]||(t[9]=t=>e.currentTalent.retirement_date=t),class:"form-control"},null,512),[[n.Jo,e.currentTalent.retirement_date]])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",w,[(0,n.Lk)("div",E,[(0,n.Lk)("div",K,[t[23]||(t[23]=(0,n.Lk)("label",{for:"height"},"Height",-1)),(0,n.bo)((0,n.Lk)("input",{name:"height",id:"height",placeholder:"Height",type:"number","onUpdate:modelValue":t[10]||(t[10]=t=>e.currentTalent.height=t),class:"form-control"},null,512),[[n.Jo,e.currentTalent.height]])])]),(0,n.Lk)("div",D,[(0,n.Lk)("div",P,[t[24]||(t[24]=(0,n.Lk)("label",{for:"emoji"},"Emoji",-1)),(0,n.bo)((0,n.Lk)("input",{name:"emoji",id:"emoji",placeholder:"Emoji","onUpdate:modelValue":t[11]||(t[11]=t=>e.currentTalent.emoji=t),type:"text",class:"form-control"},null,512),[[n.Jo,e.currentTalent.emoji]])])])])])),footer:(0,n.k6)((()=>[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[12]||(t[12]=(...t)=>e.toggleModal&&e.toggleModal(...t))},"Cancel"),(0,n.bF)(S,{isLoading:e.onSubmit,buttonClass:"btn btn-primary",onClick:e.handleSubmitTalent,normalText:e.isUpdateMode?"Update Talent":"Add New Talent"},null,8,["isLoading","onClick","normalText"])])),_:1},8,["title","isOpen","onCloseModal"]),(0,n.bF)(j,{ref:"talentTable",onHandleUpdate:e.handleUpdateClick,onHandleDelete:e.handleDeleteClick},null,8,["onHandleUpdate","onHandleDelete"])])}var A=a(1313);const U={class:"form-inline"},X={class:"input-group mb-2"},M={class:"table table-hover table-sm table-bordered"},S=["id","onClick"],x={key:0},j={key:1},N={key:2},F=["href"],V=["href"],I=["onClick"],O=["onClick"],B=["onClick"],J={key:0,class:"details-row"},$={colspan:"9"},H={key:1},z=["colspan"],Q=["id","onClick"],W={key:0},q={key:1},G={key:2};function Y(e,t,a,l,o,i){const r=(0,n.g2)("pagination-component");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",U,[(0,n.Lk)("div",X,[(0,n.bo)((0,n.Lk)("input",{placeholder:"Searching...",onInput:t[0]||(t[0]=(...t)=>e.onSearch&&e.onSearch(...t)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),type:"text",class:"form-control",name:"search"},null,544),[[n.Jo,e.search]]),t[2]||(t[2]=(0,n.Lk)("div",{class:"input-group-append"},[(0,n.Lk)("button",{class:"btn btn-primary"},[(0,n.Lk)("i",{class:"pe-7s-search"})])],-1))])]),(0,n.Lk)("table",M,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[t[3]||(t[3]=(0,n.Lk)("th",null,[(0,n.Lk)("input",{type:"checkbox",class:"",name:"checkbox"})],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.fields,(t=>((0,n.uX)(),(0,n.CE)("th",{key:t.key,id:t.key,onClick:a=>e.changeOrder(t.key)},[(0,n.eW)((0,n.v_)(t.value)+" ",1),e.orderBy===t.key&&"asc"===e.orderDirection?((0,n.uX)(),(0,n.CE)("span",x,"▼")):e.orderBy===t.key&&"desc"===e.orderDirection?((0,n.uX)(),(0,n.CE)("span",j,"▲")):((0,n.uX)(),(0,n.CE)("span",N,"◆"))],8,S)))),128)),t[4]||(t[4]=(0,n.Lk)("th",null,"Action",-1))])]),(0,n.Lk)("tbody",null,[e.items.length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.items,((a,l)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:l},[(0,n.Lk)("tr",null,[t[7]||(t[7]=(0,n.Lk)("td",null,[(0,n.Lk)("input",{type:"checkbox",name:"checkbox"})],-1)),(0,n.Lk)("td",null,[(0,n.Lk)("a",{href:`talent/${a.id}`},(0,n.v_)(a.name),9,F)]),(0,n.Lk)("td",null,(0,n.v_)(a.original_name),1),(0,n.Lk)("td",null,[(0,n.Lk)("a",{href:`agency/${a.agency_id}`},(0,n.v_)(a.agency),9,V)]),(0,n.Lk)("td",null,(0,n.v_)(a.talent_status),1),(0,n.Lk)("td",null,(0,n.v_)(a.debut_date),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-sm btn-success",onClick:t=>e.handleUpdate(a)},t[5]||(t[5]=[(0,n.Lk)("i",{class:"pe-7s-file"},null,-1)]),8,I),(0,n.Lk)("button",{type:"button",class:"btn btn-sm btn-warning",onClick:t=>e.handleDelete(a.id)},t[6]||(t[6]=[(0,n.Lk)("i",{class:"pe-7s-trash"},null,-1)]),8,O),(0,n.Lk)("button",{type:"button",onClick:t=>e.toggleDetails(l),class:"btn btn-sm btn-info"},[(0,n.Lk)("i",{class:(0,n.C4)(["pe-7s-angle-right",e.expandedRows[l]?"rotate-icon":""])},null,2)],8,B)])]),e.expandedRows[l]?((0,n.uX)(),(0,n.CE)("tr",J,[(0,n.Lk)("td",$,[(0,n.Lk)("div",null,[(0,n.Lk)("p",null,"Talent Id: "+(0,n.v_)(a.id),1),(0,n.Lk)("p",null,"Discography Count: "+(0,n.v_)(a.discography_count),1),(0,n.Lk)("p",null,"Album Count: "+(0,n.v_)(a.album_count),1)])])])):(0,n.Q3)("",!0)],64)))),128)):((0,n.uX)(),(0,n.CE)("tr",H,[(0,n.Lk)("td",{colspan:e.fields.length+2,class:"text-center"},"No records found",8,z)]))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[t[8]||(t[8]=(0,n.Lk)("th",null,[(0,n.Lk)("input",{type:"checkbox",name:"checkbox"})],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.fields,(t=>((0,n.uX)(),(0,n.CE)("th",{key:t.key,id:t.key,onClick:a=>e.changeOrder(t.key)},[(0,n.eW)((0,n.v_)(t.value)+" ",1),e.orderBy===t.key&&"asc"===e.orderDirection?((0,n.uX)(),(0,n.CE)("span",W,"▼")):e.orderBy===t.key&&"desc"===e.orderDirection?((0,n.uX)(),(0,n.CE)("span",q,"▲")):((0,n.uX)(),(0,n.CE)("span",G,"◆"))],8,Q)))),128)),t[9]||(t[9]=(0,n.Lk)("th",null,"Action",-1))])])]),(0,n.bF)(r,{currentPage:e.currentPage,perPage:e.itemsPerPage,totalItems:e.totalItems,totalPages:e.totalPages,onLoadPage:e.loadPage,onChangePageSize:e.changePageSize},null,8,["currentPage","perPage","totalItems","totalPages","onLoadPage","onChangePageSize"])],64)}var Z=a(9794),ee=a(1721),te=a(9274),ae=a(6423),ne=a(7189),le=(0,n.pM)({name:"TalentTable",components:{ModalComponent:A.A,TableComponent:Z.A,PaginationComponent:te.A,NotificationComponent:ee.A,ButtonSpinner:ae.A},emits:["handleUpdate","handleDelete"],setup(e,{emit:t}){const a=(0,n.KR)("debut_date"),l=(0,n.KR)("asc"),o=(0,n.KR)(1),i=(0,n.KR)(20),r=(0,n.KR)(0),c=(0,n.KR)(0),s=(0,n.KR)(""),u=(0,n.KR)([]),d=(0,n.KR)([{key:"name",value:"Name"},{key:"original_name",value:"Original Name"},{key:"agency",value:"Agency"},{key:"talent_status",value:"Status"},{key:"debut_date",value:"Debut Date"}]),m=(0,n.KR)([]),p=async()=>{s.value&&(o.value=1);const e=await ne.K.getTalentsWithPaging(o.value,i.value,a.value,l.value,s.value);e.error||(m.value=e.items?e.items:[],r.value=e.totalItems,c.value=e.totalPages,i.value=i.value)},g=e=>{t("handleUpdate",e)},k=async e=>{const a=confirm(`Are you sure you want to delete Talent ${e}?`);a&&t("handleDelete",e)},v=e=>{o.value=e,p()},h=()=>{o.value=1,p()},b=e=>{e===a.value?"asc"===l.value?l.value="desc":"desc"===l.value?l.value="":l.value="asc":(a.value=e,l.value="asc"),p()},f=async e=>{i.value=e,o.value=1,await p()},y=e=>{u.value[e]=!u.value[e]};return(0,n.sV)((()=>{p()})),{currentPage:o,itemsPerPage:i,totalItems:r,totalPages:c,fields:d,items:m,search:s,orderBy:a,orderDirection:l,expandedRows:u,loadPage:v,changePageSize:f,onSearch:h,changeOrder:b,handleDelete:k,handleUpdate:g,getTalentsData:p,toggleDetails:y}}}),oe=a(6262);const ie=(0,oe.A)(le,[["render",Y]]);var re=ie,ce=a(8277),se=(0,n.pM)({name:"TalentsPage",components:{ModalComponent:A.A,TalentTable:re,PageTitleComponent:ce.A,PaginationComponent:te.A,ButtonSpinner:ae.A,NotificationComponent:ee.A},setup(){const e=(0,n.KR)("Talents"),t=(0,n.KR)("Explore the Profiles of Emerging and Established Talents."),a=(0,n.KR)("pe-7s-user icon-gradient bg-tempting-azure"),l=(0,n.KR)(null),o=(0,n.KR)(!1),i=(0,n.KR)(!1),r=(0,n.KR)(!1),c=(0,n.KR)(null),s=(0,n.Kh)({name:null,original_name:null,gender:null,date_of_birth:null,agency_id:null,talent_status:"active",debut_date:null,retirement_date:null,height:null,emoji:null}),u=((0,n.KR)({}),(0,n.KR)([])),d=()=>{o.value=!1,p(),i.value=!i.value},m=()=>{l.value&&l.value.getTalentsData()},p=()=>{Object.assign(s,{name:null,original_name:null,gender:null,date_of_birth:null,agency_id:null,talent_status:"active",debut_date:null,retirement_date:null,height:null,emoji:null}),s.id&&delete s.id},g=()=>"terminated"===s.talent_status||"graduation"===s.talent_status,k=async()=>{try{const e=await ne.K.getAgencies();u.value=e}catch(e){console.error("Error fetching agency data:",e)}},v=async()=>{r.value=!0,o.value?b():h()},h=async()=>{try{await ne.K.createTalent(s),p(),d(),r.value=!1,c.value={title:"Success",content:"Talent created successfully!",type:"success"},m()}catch(e){r.value=!1,c.value={title:"Error",content:`Error when submitting talent: ${e}`,type:"danger"}}},b=async()=>{try{await ne.K.updateTalent(s),p(),d(),r.value=!1,c.value={title:"Success",content:"Talent updated successfully!",type:"success"},m(),o.value=!1}catch(e){r.value=!1,c.value={title:"Error",content:`Error when updating Talent: ${e}`,type:"danger"},o.value=!1}},f=e=>{o.value=!0,e&&(s.id=e.id,s.name=e.name,s.original_name=e.original_name,s.debut_date=e.debut_date,s.gender=e.gender,s.date_of_birth=e.date_of_birth,s.agency_id=e.agency_id,s.talent_status=e.talent_status,s.retirement_date=e.retirement_date,s.height=e.height,s.emoji=e.emoji),i.value=!0},y=async e=>{try{await ne.K.deleteTalent(e),c.value={title:"Success",content:"Talent deleted successfully!",type:"success"},m()}catch(t){c.value={title:"Error",content:`Error when deleting Talent: ${t}`,type:"danger"}}};return(0,n.sV)((async()=>{await k()})),{heading:e,subheading:t,icon:a,isUpdateMode:o,showModal:i,onSubmit:r,notification:c,currentTalent:s,agencies:u,talentTable:l,toggleModal:d,reloadTalentTable:m,showRetirementDate:g,getAgencyData:k,handleSubmitTalent:v,createTalent:h,handleUpdateClick:f,handleDeleteClick:y}}});const ue=(0,oe.A)(se,[["render",R]]);var de=ue}}]);